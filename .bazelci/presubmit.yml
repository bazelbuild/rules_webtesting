---
tasks:
  web_testing_ubuntu2004:
    name: "rules_webtesting test in ubuntu"
    platform: ubuntu2004
    test_flags:
    - "--test_tag_filters=-noci,-sauce, -chromium-local,-firefox-local" # Disble chromium-local and firefox-local for missing shared libs
    test_targets:
    - "//..."
  web_testing_macos:
    name: "rules_webtesting test in ubuntu"
    platform: macos
    test_flags:
    - "--test_tag_filters=-noci,-sauce,-chromium-local,-firefox-local" # Disble chromium-local for Chrome crashes for unknown reason and firefox-local for the access was denied while trying to open files in the profile directory
    test_targets:
    - "//..."
  web_testing_windows:
    name: "rules_webtesting test in windows"
    platform: windows
    build_flags:
    - "--enable_runfiles"
    build_targets:
    - "//..."
    test_flags:
    - "--test_tag_filters=-noci,-sauce,-chromium-local,-firefox-local" # for not able to find runfile "testdata/" in manifest
    - "--enable_runfiles"
    test_targets:
    - "//..."
